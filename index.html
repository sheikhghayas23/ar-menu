<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Smart AR Menu</title>

<style>
  body {
    margin: 0;
    overflow: hidden;
    font-family: system-ui, -apple-system, BlinkMacSystemFont;
    background: black;
  }

  video {
    position: fixed;
    inset: 0;
    width: 100vw;
    height: 100vh;
    object-fit: cover;
    z-index: 1;
  }

  #dish {
    position: fixed;
    width: 260px;
    max-width: 70vw;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    z-index: 2;
    pointer-events: none;
    transition: opacity 0.25s ease, transform 0.2s ease;
  }

  #reticle {
    position: fixed;
    width: 36px;
    height: 36px;
    border: 2px solid #00ffcc;
    border-radius: 50%;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    z-index: 2;
    pointer-events: none;
    opacity: 0.85;
  }

  #label {
    position: fixed;
    background: rgba(0,0,0,0.65);
    color: #fff;
    font-size: 13px;
    padding: 6px 10px;
    border-radius: 8px;
    z-index: 2;
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  #panel {
    position: fixed;
    bottom: 0;
    width: 100%;
    background: rgba(0,0,0,0.75);
    padding: 10px 0 14px;
    z-index: 3;
  }

  .section {
    color: #ffb703;
    font-weight: 700;
    margin: 10px 16px 6px;
  }

  .carousel {
    display: flex;
    gap: 12px;
    overflow-x: auto;
    padding: 0 16px;
    scrollbar-width: none;
  }

  .carousel::-webkit-scrollbar { display: none; }

  .item {
    min-width: 120px;
    background: rgba(255,255,255,0.12);
    color: white;
    border-radius: 14px;
    padding: 10px;
    text-align: center;
    font-size: 14px;
    cursor: pointer;
    backdrop-filter: blur(6px);
    transition: transform 0.2s ease, background 0.2s ease;
  }

  .item:hover {
    transform: scale(1.05);
    background: rgba(255,255,255,0.22);
  }

  .title {
    font-weight: 600;
    margin-bottom: 4px;
  }
</style>
</head>

<body>

<video id="camera" autoplay playsinline></video>
<img id="dish" />
<div id="reticle"></div>
<div id="label">12 inch ‚Ä¢ serves 1‚Äì2</div>

<div id="panel">
  <div class="section">üçõ Desi</div>
  <div class="carousel">
    <div class="item" onclick="showDish(biryani,'Large ‚Ä¢ serves 2')"><div class="title">Biryani</div></div>
    <div class="item" onclick="showDish(korma,'Medium ‚Ä¢ serves 1‚Äì2')"><div class="title">Chicken Korma</div></div>
    <div class="item" onclick="showDish(butter,'Medium ‚Ä¢ serves 1')"><div class="title">Butter Chicken</div></div>
    <div class="item" onclick="showDish(curry,'Medium ‚Ä¢ serves 1')"><div class="title">Chicken Curry</div></div>
  </div>

  <div class="section">üçù Italian</div>
  <div class="carousel">
    <div class="item" onclick="showDish(pizza,'12 inch ‚Ä¢ serves 1‚Äì2')"><div class="title">Pizza</div></div>
    <div class="item" onclick="showDish(lasagna,'Tray ‚Ä¢ serves 2')"><div class="title">Lasagna</div></div>
    <div class="item" onclick="showDish(eggplant,'Plate ‚Ä¢ serves 1')"><div class="title">Eggplant Parm</div></div>
  </div>

  <div class="section">üåÆ Mexican</div>
  <div class="carousel">
    <div class="item" onclick="showDish(taco,'2 pcs ‚Ä¢ serves 1')"><div class="title">Tacos</div></div>
    <div class="item" onclick="showDish(burrito,'Large ‚Ä¢ serves 1')"><div class="title">Burrito</div></div>
    <div class="item" onclick="showDish(quesadilla,'Medium ‚Ä¢ serves 1‚Äì2')"><div class="title">Quesadilla</div></div>
  </div>
</div>

<script>
/* CAMERA */
navigator.mediaDevices.getUserMedia({
  video: { facingMode: "environment" },
  audio: false
}).then(stream => camera.srcObject = stream);

/* IMAGES */
const pizza = "";
const biryani = "";
const korma = "";
const butter = "";
const curry = "";
const lasagna = "";
const eggplant = "";
const taco = "";
const burrito = "";
const quesadilla = "";
  
/* STICKY STATE */
let locked = true;
let anchorX = 50, anchorY = 50;
let liveX = 50, liveY = 50;

/* SHOW DISH */
function showDish(src, text) {
  dish.style.opacity = "0";
  setTimeout(() => {
    dish.src = src;
    dish.style.opacity = "1";
    label.textContent = text;
    label.style.opacity = "1";
  }, 150);
}

/* TAP TO LOCK */
window.addEventListener("click", () => {
  if (!locked) {
    locked = true;
    anchorX = liveX;
    anchorY = liveY;
    reticle.style.display = "none";
  }
});

/* MEASURE-LIKE MOTION */
window.addEventListener("deviceorientation", e => {
  if (locked) return;
  const x = e.gamma || 0;
  const y = e.beta || 0;
  liveX = 50 + x * 0.04;
  liveY = 50 + y * 0.04;
});

/* APPLY POSITION */
setInterval(() => {
  const x = locked ? anchorX : liveX;
  const y = locked ? anchorY : liveY;
  dish.style.left = x + "%";
  dish.style.top = y + "%";
  label.style.left = (x + 2) + "%";
  label.style.top = (y + 6) + "%";
}, 16);
</script>

</body>
</html>
